!function(){window.App=window.App||{},App.Messages={init:function(){this.$modal=$("#modal-message"),this.$body=this.$modal.find(".js-modal-body")},errors:function(a){var b=[];$.each(a,function(a,c){b.push(c[0])}),this.show(b.join("<br>"))},message:function(a){this.show(a)},show:function(a){this.$body.html(a),this.$modal.modal("show")}},App.Contact=function(a,b){this.fetchElements=function(){this.$form=$(a),this.$btn=this.$form.find(".js-btn-submit"),this.options=$.extend({conversionLabel:""},b)},this.bindUIEvents=function(){this.$form.on("submit",$.proxy(this._onSubmit,this))},this._onSubmit=function(a){a.preventDefault(),this.send()},this.send=function(){var a=this;$.ajax({type:"POST",url:a.$form.prop("action"),data:a.$form.serialize(),beforeSend:function(){a.$btn.prop("disabled",!0)}}).success(function(b){App.Messages.message(b.message),a.clearForm(),ga("send","event",a.options.conversionCategory,a.options.conversionAction,a.options.conversionLabel)}).error(function(a){App.Messages.errors(a.responseJSON)}).always(function(){a.$btn.prop("disabled",!1)})},this.clearForm=function(){this.$form.find(".input").val("")},this.fetchElements(),this.bindUIEvents()},App.Banners=function(a){this.fetchElements=function(){this.active=1,this.interval=null,this.$container=$(a),this.$list=this.$container.find(".js-banners-list"),this.$banners=this.$list.find("[data-banner]"),this.$menu=this.$container.find(".js-banners-menu"),this.$links=this.$menu.find("[data-banner]"),this.$btnPrev=this.$container.find(".js-banners-btn-prev"),this.$btnNext=this.$container.find(".js-banners-btn-next")},this.bindUIEvents=function(){var a=this;this.$btnPrev.on("click",function(b){a.prev(),a.restartInterval()}),this.$btnNext.on("click",function(b){a.next(),a.restartInterval()}),this.$links.size()>0&&this.$links.on("click",function(b){a.show($(this).data("banner")),a.restartInterval()})},this.next=function(){this.active++,this.active>this.$banners.size()&&(this.active=1),this.show(this.active)},this.prev=function(){this.active--,this.active<1&&(this.active=this.$banners.size()),this.show(this.active)},this.show=function(a){var b=this.$banners.filter('[data-banner="'+a+'"]'),c=this.$links.filter('[data-banner="'+a+'"]');this.$banners.not(b).fadeOut(250),b.fadeIn(250),this.$links.not(c).removeClass("active"),c.addClass("active")},this.initInterval=function(){var a=this;this.interval=window.setInterval(function(){a.next()},5e3)},this.restartInterval=function(){window.clearInterval(this.interval),this.initInterval()},this.fetchElements(),this.bindUIEvents(),this.initInterval()},App.Messages.init()}();